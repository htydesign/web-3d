var e=Object.defineProperty,s=(s,t,a)=>((s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a)(s,"symbol"!=typeof t?t+"":t,a);import{B as t}from"./base-DbQo_w83.js";import{r as a,B as i,C as o,b as n,g as r,Z as h,i as d,k as c,$ as l}from"./three-C8kJxG0b.js";import{d as m,z as p,A as w,g as u,j as b,F as g,o as v}from"./@vue-BDXyav1n.js";const y=m({__name:"MoveView",setup(e){const m=new class extends t{constructor(){super(),s(this,"boxList",[])}load(){var e;this.init("#webgl"),this.animate(),this.gridHelper(),this.createLight(),this.create(),null==(e=this.camera)||e.position.set(0,2,100)}create(){var e;const s=new a({color:16777215}),t=new i(1,1,1);for(let a=0;a<500;a++){const a=20*Math.random();s.color=new o(Math.random(),Math.random(),Math.random());const i=s.clone(),r=new n(t,i);r.scale.set(5*Math.random(),a,5*Math.random()),this.boxList.push(r),r.position.set(200*Math.random()-100,r.scale.y/2,200*Math.random()-100),null==(e=this.scene)||e.add(r)}}createLight(){var e,s,t,a;new r(16777215,.5).position.set(0,0,100);const i=new h(16777215,.05);null==(e=this.scene)||e.add(i);const o=new d(16777215,100,100,Math.PI/10,.5,1);o.position.set(0,10,100),o.castShadow=!0,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.camera.near=500,o.shadow.camera.far=4e3,o.shadow.camera.fov=30,null==(s=this.scene)||s.add(o);const n=new c(16777215,100);n.position.set(0,0,100),null==(t=this.scene)||t.add(n);const m=new l(n,1);null==(a=this.scene)||a.add(m),window.addEventListener("keydown",(e=>{"a"===e.key?(this.camera.position.x-=1,n.position.x-=1,o.position.x-=1):"d"===e.key?(this.camera.position.x+=1,n.position.x+=1,o.position.x+=1):"w"===e.key?(this.camera.position.z-=1,n.position.z-=1,o.position.z-=1):"s"===e.key?(this.camera.position.z+=1,n.position.z+=1,o.position.z+=1):"q"===e.key?(this.camera.rotateX(.01),o.rotateX(.01)):"r"===e.key&&(this.camera.rotateX(-.01),o.rotateX(-.01))}))}animate(){var e,s;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(s=this.stats)||s.end()}};return p((()=>{m.load()})),w((()=>{m.gui.close(),m.gui.destroy()})),(e,s)=>(v(),u(g,null,[s[0]||(s[0]=b("div",{id:"webgl"},null,-1)),s[1]||(s[1]=b("div",{class:"title-name"},"移动控制w s a d q r",-1))],64))}});export{y as default};
