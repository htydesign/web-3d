import{B as a}from"./base-MCXJ8rIx.js";import{g as e,I as t,P as s,h as n,D as o,O as i,i as r,j as d,S as h,A as l,b as c}from"./three-DKcIG4Oh.js";import{d as m,z as p,A as w,g,j as u,F as v,o as f}from"./@vue-DISYwsDo.js";const M=m({__name:"LightFourView",setup(m){const M=new class extends a{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){var a;const m=new e(16777215,1);m.position.set(0,1,1),m.castShadow=!0,m.shadow.mapSize.width=1024,m.shadow.mapSize.height=1024,m.shadow.camera.near=.5,m.shadow.camera.far=500,this.scene.add(m);const p=m.clone();p.position.set(0,-1,1),this.scene.add(p);const w=new t(new s(1,1),new n({color:16777215,side:o}),1e4);w.instanceMatrix.needsUpdate=!0;const g=new i;for(let e=0;e<1e4;e++){g.position.set(500*Math.random()-250,50*Math.random()-25,500*Math.random()-250),g.updateMatrix();const a=.5*Math.random()+.5;g.scale.set(a,a,a),w.setMatrixAt(e,g.matrix)}this.scene.add(w),w.onBeforeRender=()=>{};const u=new r(16711680,10,200,Math.PI/20,0,0);u.position.set(0,0,1),this.scene.add(u);const v=new d(20,0,100,32),f=new h({transparent:!0,blending:l,vertexShader:"\n        varying float vYCoord;\n        void main() { \n          vYCoord = position.y;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); \n        }\n      ",fragmentShader:"\n      varying float vYCoord;\n      void main() {\n        float alpha = smoothstep(100.0, 0.0, vYCoord);\n        gl_FragColor = vec4(1.0, 0.0, 0.0, alpha);\n      }\n      "}),M=new c(v,f);v.translate(0,50,0),M.rotateX(-Math.PI/2),null==(a=this.scene)||a.add(M)}animate(){var a,e;null==(a=this.stats)||a.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return p((()=>{M.load()})),w((()=>{M.gui.close(),M.gui.destroy()})),(a,e)=>(f(),g(v,null,[e[0]||(e[0]=u("div",{id:"webgl"},null,-1)),e[1]||(e[1]=u("div",{class:"title-name"},"灯光",-1))],64))}});export{M as default};
