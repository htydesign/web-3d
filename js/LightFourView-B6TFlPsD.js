import{B as a}from"./base-Bh6mSfBH.js";import{aA as e,aD as t,P as s,g as n,J as o,aE as i,aF as r,a3 as d,S as h,I as l,M as c}from"./three-v4KXn-MH.js";import{d as m,A as p,B as w,g as v,j as g,F as u,o as M}from"./@vue-Di8-S161.js";const f=m({__name:"LightFourView",setup(m){const f=new class extends a{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){var a;const m=new e(16777215,1);m.position.set(0,1,1),m.castShadow=!0,m.shadow.mapSize.width=1024,m.shadow.mapSize.height=1024,m.shadow.camera.near=.5,m.shadow.camera.far=500,this.scene.add(m);const p=m.clone();p.position.set(0,-1,1),this.scene.add(p);const w=new t(new s(1,1),new n({color:16777215,side:o}),1e4);w.instanceMatrix.needsUpdate=!0;const v=new i;for(let e=0;e<1e4;e++){v.position.set(500*Math.random()-250,50*Math.random()-25,500*Math.random()-250),v.updateMatrix();const a=.5*Math.random()+.5;v.scale.set(a,a,a),w.setMatrixAt(e,v.matrix)}this.scene.add(w),w.onBeforeRender=()=>{};const g=new r(16711680,10,200,Math.PI/20,0,0);g.position.set(0,0,1),this.scene.add(g);const u=new d(20,0,100,32),M=new h({transparent:!0,blending:l,vertexShader:"\n        varying float vYCoord;\n        void main() { \n          vYCoord = position.y;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); \n        }\n      ",fragmentShader:"\n      varying float vYCoord;\n      void main() {\n        float alpha = smoothstep(100.0, 0.0, vYCoord);\n        gl_FragColor = vec4(1.0, 0.0, 0.0, alpha);\n      }\n      "}),f=new c(u,M);u.translate(0,50,0),f.rotateX(-Math.PI/2),null==(a=this.scene)||a.add(f)}animate(){var a,e;null==(a=this.stats)||a.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return p((()=>{f.load()})),w((()=>{f.destroy()})),(a,e)=>(M(),v(u,null,[e[0]||(e[0]=g("div",{id:"webgl"},null,-1)),e[1]||(e[1]=g("div",{class:"title-name"},"灯光",-1))],64))}});export{f as default};
