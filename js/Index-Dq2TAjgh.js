var s=Object.defineProperty,t=(t,a,e)=>((t,a,e)=>a in t?s(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e)(t,"symbol"!=typeof a?a+"":a,e);import{W as a}from"./webgpuBasic-DQzTuPiE.js";import{bq as e,aK as i,a as r,C as n,T as o,aW as u,be as d,bi as l,bk as h,bT as m,bU as b,bv as g,bn as c,bo as p,bm as y,bl as w,bx as x,bC as v,bw as j,bj as C,bI as z,bG as f,bV as P,bL as V,bg as A,P as L,b as T}from"./three-BLJ24qmy.js";import{d as _,z as W,A as I,g as M,j as O,F as H,o as S}from"./@vue-DISYwsDo.js";import{_ as k}from"./index-CExiHEyD.js";import"./pinia-DkR6u-JQ.js";import"./vue-router-kKGLm7zb.js";const q=k(_({__name:"Index",setup(s){const _=new class extends a{constructor(){super(new r(0,0,50)),t(this,"uTime",e(0)),t(this,"uProgress",e(0)),t(this,"orthographicCamera",new i(-1,1,1,-1,-1e3,1e3))}load(){var s;this.orthographicCamera.left=-.5,this.orthographicCamera.right=.5,this.orthographicCamera.top=.5,this.orthographicCamera.bottom=-.5,this.renderer.setClearColor(new n(16777215)),this.init("#webgl"),this.addObject(),null==(s=this.renderer)||s.setAnimationLoop((()=>{var s,t;null==(s=this.stats)||s.begin(),this.time+=.01,this.uTime.value=this.time,this.renderer.renderAsync(this.scene,this.orthographicCamera),null==(t=this.stats)||t.end()}));this.gui.open(),this.gui.add({progress:0},"progress",0,1).onChange((s=>{this.uProgress.value=s}))}addObject(){var s;const t=(new o).load("./texture/meinv.jpg");t.colorSpace=u;const a=(new o).load("./texture/vc2.jpg");a.colorSpace=u;const i=new d,r=l((([s])=>{const t=h(1,1.73205080756),a=s.toVar().abs();return m(b(a,t.mul(.5)),a.x)})),n=l((([s])=>{const t=h(1,1.73205080756),a=_(g(s,s.toVar().sub(h(.5,1))).div(t.xyxy)),e=g(s.sub(a.xy.mul(t)),s.sub(a.zw.add(h(.5)).mul(t))),i=b(e.xy,e.xy),r=b(e.zw,e.zw),n=g(e.xy,a.xy),o=g(e.zw,a.zw),u=i.sub(r);return c(n,o,p(0,u))})),_=l((([s])=>y(s.add(.5))));e(h(1,this.innerHeight/this.innerWidth));const W=l((([s,t])=>s.toVar().sub(h(.5)).mul(t).add(h(.5))));i.colorNode=l((()=>{const s=W(w(),h(1,this.innerHeight/this.innerWidth)),e=W(s,h(x(1).add(v(w().sub(.5).mul(1))))).mul(20),i=n(e),o=r(i.xy).add(.03),u=j(.51,.52,o),d=C(m(0,x(.5).sub(o)).oneMinus(),10).mul(1.5),l=z(f(i.zw.mul(.6))),b=x(.2),y=j(0,.5,f(this.uProgress.sub(.5))).oneMinus(),L=j(w().y.sub(b),w().y.add(b),P(this.uProgress.add(l.mul(.08).mul(y)),0,1,b.mul(-1),x(1).add(b))),T=j(0,.5,f(L.sub(.5))).oneMinus(),_=p(w().y,this.uProgress.add(d.add(l).mul(.15).mul(y))),I=s.add(d.mul(V(w().y.mul(15).sub(this.uTime))).mul(T).mul(.025)),M=I.toVar(),O=I.toVar();M.assign(W(M.toVar(),h(x(1).add(l.mul(.2).mul(T).add(0))))),O.assign(W(O.toVar(),h(x(1).add(l.mul(.2).mul(T).add(0)))));const H=T.mul(u).mul(y),S=A(t,O),k=A(a,M),q=c(S,k,_);return q.addAssign(g(1,.4,0,1).mul(H)),q}))();const I=new L(1,1,1,1),M=new T(I,i);null==(s=this.scene)||s.add(M)}addLight(){this.light({type:"AmbientLight",x:30,y:30,z:30,intensity:1e3}),this.light({type:"PointLight",x:-30,y:30,z:0,intensity:1e3}),this.light({type:"AmbientLight",x:0,y:-30,z:-30,intensity:1e3})}};return W((()=>{_.load()})),I((()=>{_.destroy()})),(s,t)=>(S(),M(H,null,[t[0]||(t[0]=O("div",{id:"webgl"},null,-1)),t[1]||(t[1]=O("div",{class:"title-name"},"transition",-1))],64))}}),[["__scopeId","data-v-d49db708"]]);export{q as default};
