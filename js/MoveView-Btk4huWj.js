var t=Object.defineProperty,a=(a,e,s)=>((a,e,s)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s)(a,"symbol"!=typeof e?e+"":e,s);import{B as e}from"./base-Blzby6IQ.js";import{d as s,z as o,A as i,g as n,j as r,F as h,o as d}from"./@vue-DISYwsDo.js";import{r as c,B as l,C as m,b as p,g as w,a6 as u,i as b,k as v,a7 as y}from"./three-CQ-nF5qD.js";const f=s({__name:"MoveView",setup(t){const s=new class extends e{constructor(){super(),a(this,"boxList",[])}load(){var t;this.init("#webgl"),this.animate(),this.gridHelper(),this.createLight(),this.create(),null==(t=this.camera)||t.position.set(0,2,100)}create(){var t;const a=new c({color:16777215}),e=new l(1,1,1);for(let s=0;s<500;s++){const s=20*Math.random();a.color=new m(Math.random(),Math.random(),Math.random());const o=a.clone(),i=new p(e,o);i.scale.set(5*Math.random(),s,5*Math.random()),this.boxList.push(i),i.position.set(200*Math.random()-100,i.scale.y/2,200*Math.random()-100),null==(t=this.scene)||t.add(i)}}createLight(){var t,a,e,s;new w(16777215,.5).position.set(0,0,100);const o=new u(16777215,.05);null==(t=this.scene)||t.add(o);const i=new b(16777215,100,100,Math.PI/10,.5,1);i.position.set(0,10,100),i.castShadow=!0,i.shadow.mapSize.width=1024,i.shadow.mapSize.height=1024,i.shadow.camera.near=500,i.shadow.camera.far=4e3,i.shadow.camera.fov=30,null==(a=this.scene)||a.add(i);const n=new v(16777215,100);n.position.set(0,0,100),null==(e=this.scene)||e.add(n);const r=new y(n,1);null==(s=this.scene)||s.add(r),window.addEventListener("keydown",(t=>{"a"===t.key?(this.camera.position.x-=1,n.position.x-=1,i.position.x-=1):"d"===t.key?(this.camera.position.x+=1,n.position.x+=1,i.position.x+=1):"w"===t.key?(this.camera.position.z-=1,n.position.z-=1,i.position.z-=1):"s"===t.key?(this.camera.position.z+=1,n.position.z+=1,i.position.z+=1):"q"===t.key?(this.camera.rotateX(.01),i.rotateX(.01)):"r"===t.key&&(this.camera.rotateX(-.01),i.rotateX(-.01))}))}animate(){var t,a;null==(t=this.stats)||t.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(a=this.stats)||a.end()}};return o((()=>{s.load()})),i((()=>{s.destroy()})),(t,a)=>(d(),n(h,null,[a[0]||(a[0]=r("div",{id:"webgl"},null,-1)),a[1]||(a[1]=r("div",{class:"title-name"},"移动控制w s a d q r",-1))],64))}});export{f as default};
