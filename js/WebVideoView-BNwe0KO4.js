import{d as e,r as a,z as i,g as t,j as s,o as n}from"./@vue-B4sUqkWa.js";import{_ as o}from"./index-Cfqvh--l.js";import"./pinia-C4SihLJg.js";import"./vue-router-CANWKAPm.js";import"./three-nzgV1uvU.js";const r={class:"video-container"},c=o(e({__name:"WebVideoView",setup(e){const o=a(null);let c=null,d=null;const l=async e=>{c&&c.getTracks().forEach((e=>e.stop()));try{const a=(e=>({video:{deviceId:e?{exact:e.deviceId}:void 0,facingMode:e?void 0:"user"},audio:!1}))(e),i=await navigator.mediaDevices.getUserMedia(a);o.value&&(o.value.srcObject=i,o.value.play()),c=i,d=e}catch(a){}},u=async()=>{const e=await(async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)))();if(!e||0===e.length)return;const a=e.find((e=>e!==d));l(a||null)};return i((()=>{l(null)})),(e,a)=>(n(),t("div",r,[s("button",{onClick:u},"切换摄像头"),s("video",{ref_key:"videoRef",ref:o,playsinline:""},null,512)]))}}),[["__scopeId","data-v-4a9ccffa"]]);export{c as default};
