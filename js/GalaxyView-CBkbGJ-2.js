var t=Object.defineProperty,s=(s,e,a)=>((s,e,a)=>e in s?t(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a)(s,"symbol"!=typeof e?e+"":e,a);import{B as e}from"./base-D6gw7bh1.js";import{G as a,ai as i,aa as r,B as n,s as o,t as h,P as l,V as u}from"./three-BzfsFL7S.js";import{d,z as c,A as m,g as p,j as w,F as M,o as b}from"./@vue-B4sUqkWa.js";import{_ as f}from"./index-DF5LtD3q.js";import"./pinia-C4SihLJg.js";import"./vue-router-CANWKAPm.js";const g=f(d({__name:"GalaxyView",setup(t){function d(t=0,s=1){const e=1-Math.random(),a=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*a)*s+t}function f(t,s,e,a){const i=Math.sqrt(t**2+s**2);let r=a;return r+=t>0?Math.atan(s/t):Math.atan(s/t)+Math.PI,r+=i/100*4,new u(i*Math.cos(r),i*Math.sin(r),e)}const g=new class extends e{constructor(){super(),s(this,"group",new a),s(this,"measureGroup",new a),s(this,"raycaster",new i),s(this,"pointer",new r),s(this,"startMeasure",!1),s(this,"arr",[]),s(this,"isMove",!1),s(this,"galaxyPoints"),s(this,"helixPoints")}load(){var t;this.init("#webgl"),this.animate(),null==(t=this.scene)||t.add(this.group),this.scene.add(this.measureGroup),this.create()}create(){var t;const s=1e6,e=new Float32Array(3e6),a=new n;a.setAttribute("position",new o(e,3));for(let r=0;r<1;r++)for(let t=0;t<s;t++){const s=f(d(200,100),d(100,50),d(0,5),2*r*Math.PI/1);e[3*t+0]=s.x,e[3*t+1]=s.y,e[3*t+2]=s.z}a.attributes.position.needsUpdate=!0;const i=new h({size:2,transparent:!0,color:16777215});this.helixPoints=new l(a,i),null==(t=this.scene)||t.add(this.helixPoints)}animate(){var t,s;null==(t=this.stats)||t.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer&&this.renderer.render(this.scene,this.camera),null==(s=this.stats)||s.end()}};return c((()=>{g.load()})),m((()=>{g.gui.close(),g.gui.destroy()})),(t,s)=>(b(),p(M,null,[s[0]||(s[0]=w("div",{id:"webgl"},null,-1)),s[1]||(s[1]=w("div",{class:"title-name"},"银河系",-1))],64))}}),[["__scopeId","data-v-6bd62da4"]]);export{g as default};
