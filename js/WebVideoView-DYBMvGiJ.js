import{d as e,r as a,z as i,g as t,j as n,o as s}from"./@vue-B4sUqkWa.js";import{_ as o}from"./index-BIU2Iy7Y.js";import"./pinia-C4SihLJg.js";import"./vue-router-CANWKAPm.js";import"./three-nzgV1uvU.js";const r={class:"video-container"},c=o(e({__name:"WebVideoView",setup(e){const o=a(null);let c=null,l=null;const d=async e=>{c&&c.getTracks().forEach((e=>e.stop()));try{const a=(e=>({video:{deviceId:e?{exact:e.deviceId}:void 0,facingMode:e?void 0:"user"},audio:!1}))(e),i=await navigator.mediaDevices.getUserMedia(a);o.value&&(o.value.srcObject=i,o.value.play(),o.value.style.transform="scale(-1)"),c=i,l=e}catch(a){}},v=async()=>{const e=await(async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)))();if(!e||0===e.length)return;const a=e.find((e=>e!==l));d(a||null)},u=async()=>{const e=(await navigator.mediaDevices.enumerateDevices()).find((e=>"videoinput"===e.kind&&/back|rear/i.test(e.label)));e&&d(e)};return i((()=>{d(null)})),(e,a)=>(s(),t("div",r,[n("button",{onClick:v},"切换摄像头"),n("button",{onClick:u},"后置摄像头"),n("video",{ref_key:"videoRef",ref:o,playsinline:""},null,512)]))}}),[["__scopeId","data-v-58a8bc78"]]);export{c as default};
