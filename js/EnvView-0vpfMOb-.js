import{B as s}from"./base-C9hChz8a.js";import{h as e,aa as a,N as t,u as n,v as i,ac as r}from"./three-BV2RzHAl.js";import{d as o,z as c,A as d,g as l,j as h,F as u,o as m}from"./@vue-B4sUqkWa.js";const g=o({__name:"EnvView",setup(o){const g=new class extends s{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){const s=(new e).load("/texture/sky.jpg");s.wrapS=a,s.wrapT=a,s.mapping=t,this.scene.background=s,this.scene.environment=s;const o=new n,c=new i;c.setDecoderPath("./draco/"),o.setDRACOLoader(c),o.load("./models/gltf/ferrari.glb",(e=>{var a;const t=e.scene;t.position.set(0,0,0),t.scale.set(50,50,50),t.rotateY(Math.PI/2),null==(a=this.scene)||a.add(t);const n=e.scene.children[0],i=n.getObjectByName("body"),o=new r({metalness:.9,roughness:.5,clearcoat:1,clearcoatRoughness:.1,envMap:s,envMapIntensity:2.5,transmission:1,ior:1.5});i.material=o,this.gui.add(o,"metalness",0,1),this.gui.add(o,"roughness",0,1),this.gui.add(o,"clearcoat",0,1),this.gui.add(o,"clearcoatRoughness",0,1),this.gui.add(o,"envMapIntensity",0,5),this.gui.add(o,"transmission",0,1),this.gui.add(o,"ior",0,2.33);const c=new r({color:16777215,metalness:.25,roughness:0,transmission:1});n.getObjectByName("glass").material=c}))}animate(){var s,e;null==(s=this.stats)||s.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return c((()=>{g.load()})),d((()=>{g.gui.close(),g.gui.destroy()})),(s,e)=>(m(),l(u,null,[e[0]||(e[0]=h("div",{id:"webgl"},null,-1)),e[1]||(e[1]=h("div",{class:"title-name"},"环境光",-1))],64))}});export{g as default};
