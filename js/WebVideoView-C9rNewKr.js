import{d as e,r as a,z as i,g as t,j as n,x as s,o}from"./@vue-B4sUqkWa.js";import{_ as l}from"./index-Axp6C71z.js";import"./pinia-C4SihLJg.js";import"./vue-router-CANWKAPm.js";import"./three-nzgV1uvU.js";const r={class:"video-container"},c=l(e({__name:"WebVideoView",setup(e){const l=a(null);let c=null,u=null;const v=a([]),d=a(0),p=async e=>{c&&c.getTracks().forEach((e=>e.stop()));try{const a=(e=>({video:{deviceId:e?{exact:e.deviceId}:void 0,facingMode:e?void 0:"user"},audio:!1}))(e),i=await navigator.mediaDevices.getUserMedia(a);l.value&&(l.value.srcObject=i,l.value.play(),l.value.style.transform="scaleX(-1)"),c=i,u=e}catch(a){}},m=async()=>{const e=await(async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)))();if(!e||0===e.length)return;d.value>=e.length-1?d.value=0:d.value++;const a=e[d.value];p(a||null)},f=async()=>{const e=await navigator.mediaDevices.enumerateDevices();v.value=e;const a=e.find((e=>"videoinput"===e.kind&&/back|rear/i.test(e.label)));a&&p(a)};return i((()=>{p(null)})),(e,a)=>(o(),t("div",r,[n("p",null,s(v.value),1),n("button",{onClick:m},"切换摄像头"),n("button",{onClick:f},"后置摄像头"),n("video",{ref_key:"videoRef",ref:l,playsinline:""},null,512)]))}}),[["__scopeId","data-v-4f20a460"]]);export{c as default};
