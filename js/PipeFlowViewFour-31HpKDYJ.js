var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{B as a}from"./base-BwZY-0K1.js";import{B as s,j as n,n as o,M as r,b as i,I as m,x as h,O as l,a as c,G as d,v as w,u,D as p,E as M}from"./three-CoG-KdE-.js";import{d as f,z as g,A as b,g as y,j as x,F as v,o as j}from"./@vue-BDXyav1n.js";const A=f({__name:"PipeFlowViewFour",setup(e){const f=new class extends a{constructor(){super(),t(this,"geometries",[]),t(this,"time",0)}load(){this.init("#webgl"),this.animate(),this.createMesh()}createRandomGeometry(){let e;switch(Math.floor(3*Math.random())){case 0:default:e=new s(5*Math.random(),5*Math.random(),5*Math.random());break;case 1:e=new o(2.5*Math.random(),32,32);break;case 2:e=new n(.5*Math.random(),.5*Math.random(),1,32)}e.computeVertexNormals();const t=new r({color:16777215}),a=new i(e,t),d=new m(new h(1,0),new r({color:16711680}),50),w=new l;for(let s=0;s<50;s++){const e=new c;e.x=10*Math.random()-5,e.y=10*Math.random()-5,e.z=10*Math.random()-5;const t=new M;t.x=2*Math.random()*Math.PI,w.position.copy(e),w.rotation.copy(t),w.updateMatrix(),d.material.color.setHex(16777215*Math.random()),d.setMatrixAt(s,w.matrix)}return d.material.onBeforeCompile=e=>{},a.add(d),a}createMesh(){var e;const t=new d;null==(e=this.scene)||e.add(t);const a=new w([new c(-100,0,100),new c(-50,50,50),new c(0,0,0),new c(50,-50,50),new c(100,0,100)]),s=new u(a,50,10,10,!1),n=new r({transparent:!0,color:16777215,side:p,wireframe:!0});new i(s,n);for(let o=0;o<100;o++){const e=this.createRandomGeometry(),s=Math.random(),n=a.getPointAt(s);e.position.copy(n),t.add(e),this.geometries.push(e)}}animate(){var e,t;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.geometries.forEach(((e,t)=>{const a=new w([new c(-100,0,100),new c(-50,50,50),new c(0,0,0),new c(50,-50,50),new c(100,0,100)]),s=(t/this.geometries.length+this.time)%1,n=a.getPointAt(s);e.position.copy(n)})),this.time+=.001,this.renderer.render(this.scene,this.camera),null==(t=this.stats)||t.end()}};return g((()=>{f.load()})),b((()=>{f.gui.close(),f.gui.destroy()})),(e,t)=>(j(),y(v,null,[t[0]||(t[0]=x("div",{id:"webgl"},null,-1)),t[1]||(t[1]=x("div",{class:"title-name"},"粒子管道流动4",-1))],64))}});export{A as default};
