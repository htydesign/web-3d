var e=Object.defineProperty,t=(t,s,a)=>((t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a)(t,"symbol"!=typeof s?s+"":s,a);import{B as s}from"./base-T3lLSoS5.js";import{d as a,z as r,A as i,g as n,j as h,F as l,o}from"./@vue-DISYwsDo.js";import{a as u,t as c,L as p,u as d,T as m,e as w,r as x,D as b,b as f}from"./three-BLJ24qmy.js";const g=a({__name:"PipeFlowView",setup(e){const a=new class extends s{constructor(){super(),t(this,"texture")}load(){this.init("#webgl"),this.animate(),this.createMesh(),this.light(),this.gridHelper()}createPath(e){const t=e.map((e=>new u(e[0],e[1],e[2]))),s=new c;for(let a=0;a<t.length-1;a++)s.curves.push(new p(t[a],t[a+1]));return s}createMesh(){var e;const t=this.createPath([[100,0,50],[100,50,50],[100,50,-50],[100,-50,-50],[0,-50,50],[0,50,-50],[-100,50,50],[-100,-50,-50]]),s=new d(t,100,5,20,!1);this.texture=(new m).load("https://threejs.org/examples/textures/sprites/disc.png"),this.texture.wrapS=w,this.texture.wrapT=w,this.texture.repeat.set(100,1);const a=new x({map:this.texture,transparent:!0,color:4708602,side:b}),r=new f(s,a);null==(e=this.scene)||e.add(r)}animate(){var e,t;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.texture&&(this.texture.offset.x+=.05),this.renderer.render(this.scene,this.camera),null==(t=this.stats)||t.end()}};return r((()=>{a.load()})),i((()=>{a.destroy()})),(e,t)=>(o(),n(l,null,[t[0]||(t[0]=h("div",{id:"webgl"},null,-1)),t[1]||(t[1]=h("div",{class:"title-name"},"管道流动",-1))],64))}});export{g as default};
