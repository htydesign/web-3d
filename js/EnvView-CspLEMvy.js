import{B as e}from"./base-B6zMTzfe.js";import{T as s,e as a,a4 as t,o as n,v as r,f as o}from"./three-hMcRR63t.js";import{d as i,o as l,l as c,F as m,G as d,H as h,E as u}from"./@vue-CBatJ08e.js";const g=i({__name:"EnvView",setup(i){const g=new class extends e{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){const e=(new s).load("/texture/sky.jpg");e.wrapS=a,e.wrapT=a,e.mapping=t,this.scene.background=e,this.scene.environment=e;const i=new n,l=new r;l.setDecoderPath("./draco/"),i.setDRACOLoader(l),i.load("./models/gltf/ferrari.glb",(e=>{var s;const a=e.scene;a.position.set(0,0,0),a.scale.set(50,50,50),a.rotateY(Math.PI/2),null==(s=this.scene)||s.add(a);const t=e.scene.children[0],n=new o({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03});t.getObjectByName("body").material=n;const r=new o({color:16777215,metalness:.25,roughness:0,transmission:1});t.getObjectByName("glass").material=r}))}animate(){var e,s;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(s=this.stats)||s.end()}};return l((()=>{g.load()})),c((()=>{g.gui.close(),g.gui.destroy()})),(e,s)=>(u(),m(h,null,[s[0]||(s[0]=d("div",{id:"webgl"},null,-1)),s[1]||(s[1]=d("div",{class:"title-name"},"环境光",-1))],64))}});export{g as default};
