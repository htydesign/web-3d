var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{B as a}from"./base-C9hChz8a.js";import{g as s,I as n,a9 as o,M as r,b as i,aq as m,aU as h,J as d,C as l,ar as c,V as w,G as u,aV as p,y as M,D as g,O as f}from"./three-BV2RzHAl.js";import{d as y,z as b,A as x,g as v,j,F as A,o as P}from"./@vue-B4sUqkWa.js";const F=y({__name:"PipeFlowViewFour",setup(e){const y=new class extends a{constructor(){super(),t(this,"geometries",[]),t(this,"time",0)}load(){this.init("#webgl"),this.animate(),this.createMesh(),this.light()}createRandomGeometry(e,t,a){let u;switch(Math.floor(3*Math.random())){case 0:default:u=new s(5*Math.random(),5*Math.random(),5*Math.random());break;case 1:u=new o(2.5*Math.random(),32,32);break;case 2:u=new n(.5*Math.random(),.5*Math.random(),1,32)}u.computeVertexNormals();const p=new r({color:16777215}),M=new i(u,p),g=new m(new h(1,0),new d({color:new l(e,t,a)}),50),y=new c;for(let s=0;s<50;s++){const e=new w;e.x=10*Math.random()-5,e.y=10*Math.random()-5,e.z=10*Math.random()-5;const t=new f;t.x=2*Math.random()*Math.PI,y.position.copy(e),y.rotation.copy(t),y.updateMatrix(),g.setMatrixAt(s,y.matrix)}return M.add(g),M.onBeforeRender=()=>{for(let e=0;e<50;e++)g.rotation.y+=5e-4*Math.random()},M}createMesh(){var e;const t=new u;null==(e=this.scene)||e.add(t);const a=new p([new w(-100,0,100),new w(-50,50,50),new w(0,0,0),new w(50,-50,50),new w(100,0,100)]),s=new M(a,50,10,10,!1),n=new r({transparent:!0,color:16777215,side:g,wireframe:!0});new i(s,n);let o=.5,m=1,h=0;for(let r=0;r<100;r++){o+=.01,h+=.01,m-=.01;const e=this.createRandomGeometry(o,m,h),s=Math.random(),n=a.getPointAt(s);e.position.copy(n),t.add(e),this.geometries.push(e)}}animate(){var e,t;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.geometries.forEach(((e,t)=>{const a=new p([new w(-100,0,100),new w(-50,50,50),new w(0,0,0),new w(50,-50,50),new w(100,0,100)]),s=(t/this.geometries.length+this.time)%1,n=a.getPointAt(s);e.position.copy(n)})),this.time+=.001,this.renderer.render(this.scene,this.camera),null==(t=this.stats)||t.end()}};return b((()=>{y.load()})),x((()=>{y.gui.close(),y.gui.destroy()})),(e,t)=>(P(),v(A,null,[t[0]||(t[0]=j("div",{id:"webgl"},null,-1)),t[1]||(t[1]=j("div",{class:"title-name"},"粒子管道流动4",-1))],64))}});export{F as default};
