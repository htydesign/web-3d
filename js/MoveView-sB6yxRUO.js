var a=Object.defineProperty,e=(e,s,t)=>((e,s,t)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t)(e,"symbol"!=typeof s?s+"":s,t);import{B as s}from"./base-DG7zfQ43.js";import{az as t,g as o,C as i,b as n,ap as r,av as h,as as d,ao as c,aA as l}from"./three-BusLRLtJ.js";import{d as m,z as p,A as w,g as u,j as v,F as b,o as g}from"./@vue-B4sUqkWa.js";const y=m({__name:"MoveView",setup(a){const m=new class extends s{constructor(){super(),e(this,"boxList",[])}load(){var a;this.init("#webgl"),this.animate(),this.gridHelper(),this.createLight(),this.create(),null==(a=this.camera)||a.position.set(0,2,100)}create(){var a;const e=new t({color:16777215}),s=new o(1,1,1);for(let t=0;t<500;t++){const t=20*Math.random();e.color=new i(Math.random(),Math.random(),Math.random());const o=e.clone(),r=new n(s,o);r.scale.set(5*Math.random(),t,5*Math.random()),this.boxList.push(r),r.position.set(200*Math.random()-100,r.scale.y/2,200*Math.random()-100),null==(a=this.scene)||a.add(r)}}createLight(){var a,e,s,t;new r(16777215,.5).position.set(0,0,100);const o=new h(16777215,.05);null==(a=this.scene)||a.add(o);const i=new d(16777215,100,100,Math.PI/10,.5,1);i.position.set(0,10,100),i.castShadow=!0,i.shadow.mapSize.width=1024,i.shadow.mapSize.height=1024,i.shadow.camera.near=500,i.shadow.camera.far=4e3,i.shadow.camera.fov=30,null==(e=this.scene)||e.add(i);const n=new c(16777215,100);n.position.set(0,0,100),null==(s=this.scene)||s.add(n);const m=new l(n,1);null==(t=this.scene)||t.add(m),window.addEventListener("keydown",(a=>{"a"===a.key?(this.camera.position.x-=1,n.position.x-=1,i.position.x-=1):"d"===a.key?(this.camera.position.x+=1,n.position.x+=1,i.position.x+=1):"w"===a.key?(this.camera.position.z-=1,n.position.z-=1,i.position.z-=1):"s"===a.key?(this.camera.position.z+=1,n.position.z+=1,i.position.z+=1):"q"===a.key?(this.camera.rotateX(.01),i.rotateX(.01)):"r"===a.key&&(this.camera.rotateX(-.01),i.rotateX(-.01))}))}animate(){var a,e;null==(a=this.stats)||a.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return p((()=>{m.load()})),w((()=>{m.gui.close(),m.gui.destroy()})),(a,e)=>(g(),u(b,null,[e[0]||(e[0]=v("div",{id:"webgl"},null,-1)),e[1]||(e[1]=v("div",{class:"title-name"},"移动控制w s a d q r",-1))],64))}});export{y as default};
