var e=Object.defineProperty,t=(t,s,a)=>((t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a)(t,"symbol"!=typeof s?s+"":s,a);import{B as s}from"./base-HDikCi6F.js";import{aV as a,aW as n,n as r,M as l,b as i,aX as o}from"./three-BHpSmIVb.js";import{d as c,g as d,j as u,k as m,l as h,F as y,o as p}from"./@vue-H0c_gk4m.js";const b=""+new URL("../webm/MaryOculus-efxuRN72.webm",import.meta.url).href,w=""+new URL("../mp4/MaryOculus-g9gWQbJw.mp4",import.meta.url).href,f=c({__name:"WebXRVideo",setup(e){const c=new class extends s{constructor(){super(),t(this,"isPlay",!1)}load(){var e,t,s,c;this.init("#webgl"),null==(e=this.camera)||e.layers.enable(1);const d=document.getElementById("video");d.play();document.getElementById("webgl").addEventListener("click",(()=>{this.isPlay||(d.play(),this.isPlay=!0)}));const u=new a(d);u.colorSpace=n;const m=new r(500,60,40);m.scale(-1,1,1);const h=m.attributes.uv.array;for(let a=0;a<h.length;a+=2)h[a]*=.5;const y=new l({map:u}),p=new i(m,y);p.rotation.y=-Math.PI/2,p.layers.set(1),null==(t=this.scene)||t.add(p);const b=new r(500,60,40);b.scale(-1,1,1);const w=b.attributes.uv.array;for(let a=0;a<w.length;a+=2)w[a]*=.5,w[a]+=.5;const f=new l({map:u}),g=new i(b,f);g.rotation.y=-Math.PI/2,g.layers.set(2),null==(s=this.scene)||s.add(g),null==(c=this.renderer)||c.setAnimationLoop(this.animate.bind(this)),this.renderer.xr.enabled=!0,this.renderer.xr.setReferenceSpaceType("local"),document.body.appendChild(o.createButton(this.renderer))}animate(){var e,t;null==(e=this.stats)||e.begin(),this.renderer.render(this.scene,this.camera),null==(t=this.stats)||t.end()}};return d((()=>{c.load()})),u((()=>{c.destroy()})),(e,t)=>(p(),m(y,null,[t[0]||(t[0]=h("div",{id:"webgl"},null,-1)),t[1]||(t[1]=h("div",{class:"title-name"},"XR-VIDEO",-1)),t[2]||(t[2]=h("video",{id:"video",loop:"",muted:"",crossOrigin:"anonymous",playsinline:"",style:{display:"none"}},[h("source",{src:b}),h("source",{src:w})],-1))],64))}});export{f as default};
