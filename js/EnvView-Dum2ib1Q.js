import{B as s}from"./base-DECjcTXN.js";import{T as e,q as t,E as a,i as n,j as i,r}from"./three-CB9Se93t.js";import{d as o,z as c,A as d,g as l,j as h,F as u,o as m}from"./@vue-B4sUqkWa.js";const g=o({__name:"EnvView",setup(o){const g=new class extends s{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){const s=(new e).load("/texture/sky.jpg");s.wrapS=t,s.wrapT=t,s.mapping=a,this.scene.background=s,this.scene.environment=s;const o=new n,c=new i;c.setDecoderPath("./draco/"),o.setDRACOLoader(c),o.load("./models/gltf/ferrari.glb",(e=>{var t;const a=e.scene;a.position.set(0,0,0),a.scale.set(50,50,50),a.rotateY(Math.PI/2),null==(t=this.scene)||t.add(a);const n=e.scene.children[0],i=n.getObjectByName("body"),o=new r({metalness:.9,roughness:.5,clearcoat:1,clearcoatRoughness:.1,envMap:s,envMapIntensity:2.5,transmission:1,ior:1.5});i.material=o,this.gui.add(o,"metalness",0,1),this.gui.add(o,"roughness",0,1),this.gui.add(o,"clearcoat",0,1),this.gui.add(o,"clearcoatRoughness",0,1),this.gui.add(o,"envMapIntensity",0,5),this.gui.add(o,"transmission",0,1),this.gui.add(o,"ior",0,2.33);const c=new r({color:16777215,metalness:.25,roughness:0,transmission:1});n.getObjectByName("glass").material=c}))}animate(){var s,e;null==(s=this.stats)||s.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return c((()=>{g.load()})),d((()=>{g.gui.close(),g.gui.destroy()})),(s,e)=>(m(),l(u,null,[e[0]||(e[0]=h("div",{id:"webgl"},null,-1)),e[1]||(e[1]=h("div",{class:"title-name"},"环境光",-1))],64))}});export{g as default};
