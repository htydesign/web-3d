import{B as e}from"./base-DSRj1ooT.js";import{aS as s,aT as t,a0 as a,M as n,b as r,aU as o}from"./three-C0SeukxF.js";import{d as i,z as l,A as c,g as d,j as u,F as m,o as h}from"./@vue-B4sUqkWa.js";const p=""+new URL("../webm/MaryOculus-efxuRN72.webm",import.meta.url).href,y=""+new URL("../mp4/MaryOculus-g9gWQbJw.mp4",import.meta.url).href,w=i({__name:"WebXRVideo",setup(i){const w=new class extends e{constructor(){super()}load(){var e,i,l;this.init("#webgl"),null==(e=this.renderer)||e.setAnimationLoop(this.animate.bind(this)),this.renderer.xr.enabled=!0,this.renderer.xr.setReferenceSpaceType("local");const c=document.getElementById("video");c.play();const d=new s(c);d.colorSpace=t;const u=new a(500,60,40);u.scale(-1,1,1);const m=u.attributes.uv.array;for(let s=0;s<m.length;s+=2)m[s]*=.5;const h=new n({map:d}),p=new r(u,h);p.rotation.y=-Math.PI/2,p.layers.set(1),null==(i=this.scene)||i.add(p);const y=new a(500,60,40);y.scale(-1,1,1);const w=y.attributes.uv.array;for(let s=0;s<w.length;s+=2)w[s]*=.5,w[s]+=.5;const b=new n({map:d}),g=new r(y,b);g.rotation.y=-Math.PI/2,g.layers.set(2),null==(l=this.scene)||l.add(g),document.body.appendChild(o.createButton(this.renderer))}animate(){var e,s;null==(e=this.stats)||e.begin(),this.renderer.render(this.scene,this.camera),null==(s=this.stats)||s.end()}};return l((()=>{w.load()})),c((()=>{w.gui.close(),w.gui.destroy()})),(e,s)=>(h(),d(m,null,[s[0]||(s[0]=u("div",{id:"webgl"},null,-1)),s[1]||(s[1]=u("div",{class:"title-name"},"XR-VIDEO",-1)),s[2]||(s[2]=u("video",{id:"video",loop:"",muted:"",crossOrigin:"anonymous",playsinline:"",style:{display:"none"}},[u("source",{src:p}),u("source",{src:y})],-1))],64))}});export{w as default};
