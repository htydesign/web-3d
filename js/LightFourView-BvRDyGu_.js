import{B as a}from"./base-CTHtcInk.js";import{au as e,av as t,P as s,l as n,D as o,aw as i,ax as r,N as d,S as h,A as l,M as c}from"./three-U1z093Ie.js";import{d as m,z as p,A as w,g as u,j as v,F as g,o as M}from"./@vue-B4sUqkWa.js";const f=m({__name:"LightFourView",setup(m){const f=new class extends a{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){var a;const m=new e(16777215,1);m.position.set(0,1,1),m.castShadow=!0,m.shadow.mapSize.width=1024,m.shadow.mapSize.height=1024,m.shadow.camera.near=.5,m.shadow.camera.far=500,this.scene.add(m);const p=m.clone();p.position.set(0,-1,1),this.scene.add(p);const w=new t(new s(1,1),new n({color:16777215,side:o}),1e4);w.instanceMatrix.needsUpdate=!0;const u=new i;for(let e=0;e<1e4;e++){u.position.set(500*Math.random()-250,50*Math.random()-25,500*Math.random()-250),u.updateMatrix();const a=.5*Math.random()+.5;u.scale.set(a,a,a),w.setMatrixAt(e,u.matrix)}this.scene.add(w),w.onBeforeRender=()=>{};const v=new r(16711680,10,200,Math.PI/20,0,0);v.position.set(0,0,1),this.scene.add(v);const g=new d(20,0,100,32),M=new h({transparent:!0,blending:l,vertexShader:"\n        varying float vYCoord;\n        void main() { \n          vYCoord = position.y;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); \n        }\n      ",fragmentShader:"\n      varying float vYCoord;\n      void main() {\n        float alpha = smoothstep(100.0, 0.0, vYCoord);\n        gl_FragColor = vec4(1.0, 0.0, 0.0, alpha);\n      }\n      "}),f=new c(g,M);g.translate(0,50,0),f.rotateX(-Math.PI/2),null==(a=this.scene)||a.add(f)}animate(){var a,e;null==(a=this.stats)||a.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return p((()=>{f.load()})),w((()=>{f.gui.close(),f.gui.destroy()})),(a,e)=>(M(),u(g,null,[e[0]||(e[0]=v("div",{id:"webgl"},null,-1)),e[1]||(e[1]=v("div",{class:"title-name"},"灯光",-1))],64))}});export{f as default};
