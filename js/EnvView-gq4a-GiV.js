import{B as s}from"./base-CZc2SIvy.js";import{T as e,e as a,ag as t,o as n,K as i,f as r}from"./three-DbIXC9SN.js";import{d as o,z as d,A as c,g as l,j as h,F as m,o as u}from"./@vue-DISYwsDo.js";const g=o({__name:"EnvView",setup(o){const g=new class extends s{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){const s=(new e).load("/texture/sky.jpg");s.wrapS=a,s.wrapT=a,s.mapping=t,this.scene.background=s,this.scene.environment=s;const o=new n,d=new i;d.setDecoderPath("./draco/"),o.setDRACOLoader(d),o.load("./models/gltf/ferrari.glb",(e=>{var a;const t=e.scene;t.position.set(0,0,0),t.scale.set(50,50,50),t.rotateY(Math.PI/2),null==(a=this.scene)||a.add(t);const n=e.scene.children[0],i=n.getObjectByName("body"),o=new r({metalness:.9,roughness:.5,clearcoat:1,clearcoatRoughness:.1,envMap:s,envMapIntensity:2.5,transmission:1,ior:1.5});i.material=o,this.gui.add(o,"metalness",0,1),this.gui.add(o,"roughness",0,1),this.gui.add(o,"clearcoat",0,1),this.gui.add(o,"clearcoatRoughness",0,1),this.gui.add(o,"envMapIntensity",0,5),this.gui.add(o,"transmission",0,1),this.gui.add(o,"ior",0,2.33);const d=new r({color:16777215,metalness:.25,roughness:0,transmission:1});n.getObjectByName("glass").material=d}))}animate(){var s,e;null==(s=this.stats)||s.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return d((()=>{g.load()})),c((()=>{g.destroy()})),(s,e)=>(u(),l(m,null,[e[0]||(e[0]=h("div",{id:"webgl"},null,-1)),e[1]||(e[1]=h("div",{class:"title-name"},"环境光",-1))],64))}});export{g as default};
