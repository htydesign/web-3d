var e=Object.defineProperty,n=(n,s,r)=>((n,s,r)=>s in n?e(n,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[s]=r)(n,"symbol"!=typeof s?s+"":s,r);import{B as s}from"./base-CU2FGtE4.js";import{o as r,a as t,S as a,x as o,u as i,b as l,a5 as v}from"./three-BbqIY5yL.js";import{d as c,z as m,A as u,g as f,j as d,F as h,o as g}from"./@vue-DISYwsDo.js";const p=c({__name:"BrainEffectView",setup(e){const c=new class extends s{constructor(){super(),n(this,"uniforms",{uTime:{value:0}})}load(){var e,n,s,v;this.init("#webgl"),null==(e=this.scene)||e.remove(this.axesHelper),null==(n=this.renderer)||n.setClearColor(16777215),null==(s=this.camera)||s.position.set(0,0,10),null==(v=this.controls)||v.update();(new r).load("./models/gltf/LeePerrySmith/LeePerrySmith.glb",(e=>{var n;const s=e.scene.children[0],{array:r,count:v}=s.geometry.attributes.position,c=[];for(let a=0;a<v;a+=1){const e=r[3*a+0],n=r[3*a+1],s=r[3*a+2];c.push(new t(e,n,s))}const m=new a({uniforms:this.uniforms,wireframe:!1,vertexShader:"\n          uniform float uTime;\n          varying vec2 vUv;\n          varying float vProgress;\n          void main() {\n            vUv = uv;\n            vProgress = fract(smoothstep(0.0, 1.0, abs(sin(uTime * 0.15 + uv.x * 5.0))) * 10.0);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n        ",fragmentShader:"\n          varying vec2 vUv;\n          varying float vProgress;\n          uniform float uTime;\n          void main() {\n            vec3 color1 = vec3(0.0, 0.0, 0.0);\n            vec3 color2 = vec3(0.0, 1.0, 0.0);\n            vec3 finalColor = mix(color1, color2, vProgress);\n            vec3 color3 = vec3(step(vUv.x, vProgress));\n            gl_FragColor = vec4(finalColor, 1.0);          \n          }\n        "}),u=new o(c),f=new i(u,c.length,.05,8,!0),d=new l(f,m);null==(n=this.scene)||n.add(d),this.animate()}))}animate(){var e,n;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),v.update(),this.renderer.render(this.scene,this.camera),this.uniforms.uTime.value+=.01,null==(n=this.stats)||n.end()}};return m((()=>{c.load()})),u((()=>{c.destroy()})),(e,n)=>(g(),f(h,null,[n[0]||(n[0]=d("div",{id:"webgl"},null,-1)),n[1]||(n[1]=d("div",{class:"title-name"},"face effect",-1))],64))}});export{p as default};
