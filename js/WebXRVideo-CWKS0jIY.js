var e=Object.defineProperty,s=(s,t,a)=>((s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a)(s,"symbol"!=typeof t?t+"":t,a);import{B as t}from"./base-DG7zfQ43.js";import{a$ as a,S as n,a9 as r,M as l,b as i,b0 as o}from"./three-BusLRLtJ.js";import{d as c,z as d,A as u,g as m,j as h,F as y,o as p}from"./@vue-B4sUqkWa.js";const b=""+new URL("../webm/MaryOculus-efxuRN72.webm",import.meta.url).href,w=""+new URL("../mp4/MaryOculus-g9gWQbJw.mp4",import.meta.url).href,g=c({__name:"WebXRVideo",setup(e){const c=new class extends t{constructor(){super(),s(this,"isPlay",!1)}load(){var e,s,t,c;this.init("#webgl"),null==(e=this.camera)||e.layers.enable(1);const d=document.getElementById("video");d.play();document.getElementById("webgl").addEventListener("click",(()=>{this.isPlay||(d.play(),this.isPlay=!0)}));const u=new a(d);u.colorSpace=n;const m=new r(500,60,40);m.scale(-1,1,1);const h=m.attributes.uv.array;for(let a=0;a<h.length;a+=2)h[a]*=.5;const y=new l({map:u}),p=new i(m,y);p.rotation.y=-Math.PI/2,p.layers.set(1),null==(s=this.scene)||s.add(p);const b=new r(500,60,40);b.scale(-1,1,1);const w=b.attributes.uv.array;for(let a=0;a<w.length;a+=2)w[a]*=.5,w[a]+=.5;const g=new l({map:u}),f=new i(b,g);f.rotation.y=-Math.PI/2,f.layers.set(2),null==(t=this.scene)||t.add(f),null==(c=this.renderer)||c.setAnimationLoop(this.animate.bind(this)),this.renderer.xr.enabled=!0,this.renderer.xr.setReferenceSpaceType("local"),document.body.appendChild(o.createButton(this.renderer))}animate(){var e,s;null==(e=this.stats)||e.begin(),this.renderer.render(this.scene,this.camera),null==(s=this.stats)||s.end()}};return d((()=>{c.load()})),u((()=>{c.gui.close(),c.gui.destroy()})),(e,s)=>(p(),m(y,null,[s[0]||(s[0]=h("div",{id:"webgl"},null,-1)),s[1]||(s[1]=h("div",{class:"title-name"},"XR-VIDEO",-1)),s[2]||(s[2]=h("video",{id:"video",loop:"",muted:"",crossOrigin:"anonymous",playsinline:"",style:{display:"none"}},[h("source",{src:b}),h("source",{src:w})],-1))],64))}});export{g as default};
