var t=Object.defineProperty,e=(e,s,a)=>((e,s,a)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a)(e,"symbol"!=typeof s?s+"":s,a);import{B as s}from"./base-DRfanOAB.js";import{G as a,a4 as i,a2 as r,B as n,l as o,m as h,P as l,V as u}from"./three-nzgV1uvU.js";import{d,z as c,A as m,g as p,j as w,F as M,o as b}from"./@vue-B4sUqkWa.js";import{_ as f}from"./index-BIU2Iy7Y.js";import"./pinia-C4SihLJg.js";import"./vue-router-CANWKAPm.js";const g=f(d({__name:"GalaxyView",setup(t){function d(t=0,e=1){const s=1-Math.random(),a=Math.random();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*a)*e+t}function f(t,e,s,a){const i=Math.sqrt(t**2+e**2);let r=a;return r+=t>0?Math.atan(e/t):Math.atan(e/t)+Math.PI,r+=i/100*4,new u(i*Math.cos(r),i*Math.sin(r),s)}const g=new class extends s{constructor(){super(),e(this,"group",new a),e(this,"measureGroup",new a),e(this,"raycaster",new i),e(this,"pointer",new r),e(this,"startMeasure",!1),e(this,"arr",[]),e(this,"isMove",!1),e(this,"galaxyPoints"),e(this,"helixPoints")}load(){var t;this.init("#webgl"),this.animate(),null==(t=this.scene)||t.add(this.group),this.scene.add(this.measureGroup),this.create()}create(){var t;const e=1e6,s=new Float32Array(3e6),a=new n;a.setAttribute("position",new o(s,3));for(let r=0;r<1;r++)for(let t=0;t<e;t++){const e=f(d(200,100),d(100,50),d(0,5),2*r*Math.PI/1);s[3*t+0]=e.x,s[3*t+1]=e.y,s[3*t+2]=e.z}a.attributes.position.needsUpdate=!0;const i=new h({size:2,transparent:!0,color:16777215});this.helixPoints=new l(a,i),null==(t=this.scene)||t.add(this.helixPoints)}animate(){var t,e;null==(t=this.stats)||t.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer&&this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return c((()=>{g.load()})),m((()=>{g.gui.close(),g.gui.destroy()})),(t,e)=>(b(),p(M,null,[e[0]||(e[0]=w("div",{id:"webgl"},null,-1)),e[1]||(e[1]=w("div",{class:"title-name"},"银河系",-1))],64))}}),[["__scopeId","data-v-6bd62da4"]]);export{g as default};
