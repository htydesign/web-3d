var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{B as a}from"./base-DI5EaenM.js";import{$ as s,C as r,q as o,V as i,G as n,b as l,x,M as p,Q as h,aa as m,ab as c,ac as u,ad as w,a2 as d,ae as g,e as v}from"./three-1nqLwmXn.js";import{d as y,z as A,A as f,g as j,o as b}from"./@vue-B4sUqkWa.js";const M={id:"webgl"},z=y({__name:"ImageView",setup(e){const y=["vortex1-340x510.jpg","vortex10-344x430.jpeg","vortex11-267x400.jpg","vortex11-340x510.jpg","vortex12-320x400.jpg","vortex14-344x430.jpeg","vortex15-330x400.png","vortex15-344x430.png","vortex16-340x340.png","vortex19-340x510.jpg","vortex20-267x400.jpg","vortex23-267x400.jpeg"];const z=new class extends a{constructor(){super(),t(this,"uniforms",{uTime:{value:0},uSpeed:{value:0},uFade:{value:new s(0,1)},uStartColor:{value:new r(16777215)}}),t(this,"mixer"),t(this,"mixerArray",[]),t(this,"timeScale",3),t(this,"textureMap",[])}load(){this.init("#webgl"),this.animate(),this.loadImage()}loadImage(){const e=new o,t=[];y.forEach((a=>{t.push(new Promise((t=>{e.load("https://www.cosmos.so/wp-content/uploads/2023/05/"+a,(e=>{t(e)}))})))})),Promise.all(t).then((e=>{this.textureMap.push(...e);for(let t=0;t<5;t++){const e=t/5*Math.PI*2,a=300*Math.cos(e),s=300*Math.sin(e);this.createPlane(new i(a,s,0),e)}setTimeout((()=>{for(let e=0;e<this.mixerArray.length;e++)this.mixerArray[e].timeScale=1}),1e3)}))}createPlane(e,t){var a;const s=new n;s.position.copy(e),s.rotateZ(t),null==(a=this.scene)||a.add(s);for(let r=0;r<this.textureMap.length;r++){const e=new l(new x(50,100),new p({color:16777215*Math.random(),opacity:.75,transparent:!0,depthTest:!1,map:this.textureMap[r]}));s.add(e);const t=[0,2,3,4,4],a=new i(0,0,1),o=(new h).setFromAxisAngle(a,0),n=(new h).setFromAxisAngle(a,-.3),v=new m(".quaternion",t,[o.x,o.y,o.z,o.w,n.x,n.y,n.z,n.w,n.x,n.y,n.z,n.w,n.x,n.y,n.z,n.w,o.x,o.y,o.z,o.w]),y=new c(".position",t,[0,40,-90,0,-20,0,-150,-70,0,-190,-50,0,0,40,-90]),A=new c(".scale",t,[1,1,1,1,1,1,.5,.5,.5,.01,.01,.01,1,1,1]),f=new u(".material.opacity",t,[0,1,1,1,0]),j=new w("Action0",6,[f,A,y,v]),b=new d(s.children[r]),M=b.clipAction(j);M.loop=g,M.time=r/2,M.play(),b.timeScale=this.timeScale,this.mixerArray.push(b)}}animate(){var e,t;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),v.update(),this.renderer.render(this.scene,this.camera);const a=this.clock.getDelta();for(let s=0;s<this.mixerArray.length;s++)this.mixerArray[s].update(a);null==(t=this.stats)||t.end()}};return A((()=>{z.load()})),f((()=>{z.gui.close(),z.gui.destroy()})),(e,t)=>(b(),j("div",M))}});export{z as default};
