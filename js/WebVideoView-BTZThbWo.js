import{d as e,r as a,z as i,g as t,j as s,o}from"./@vue-B4sUqkWa.js";import{_ as n}from"./index-C-GkNdId.js";import"./pinia-C4SihLJg.js";import"./vue-router-CANWKAPm.js";import"./three-nzgV1uvU.js";const r={class:"video-container"},d=n(e({__name:"WebVideoView",setup(e){const n=a(null),d=a(!0),c=async()=>{try{const e=await(async()=>{const e=await navigator.mediaDevices.enumerateDevices();let a="";if(d.value){const i=e.filter((e=>"videoinput"===e.kind));alert(JSON.stringify(i)),a=i[0].deviceId}else{const i=e.find((e=>"videoinput"===e.kind&&/back|rear/i.test(e.label)));a=(null==i?void 0:i.deviceId)||""}return a})(),a=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:e}},audio:!1});n.value&&(n.value.srcObject=a,n.value.play(),n.value.style.transform="scaleX(-1)")}catch(e){alert("无法获取视频")}},l=async()=>{d.value=!d.value,c()};return i((()=>{c()})),(e,a)=>(o(),t("div",r,[s("button",{onClick:c},"开始视频"),s("button",{onClick:l},"切换摄像头"),s("video",{ref_key:"videoRef",ref:n},null,512)]))}}),[["__scopeId","data-v-89debff4"]]);export{d as default};
