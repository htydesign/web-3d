import{B as e}from"./base-Cxb8VdL3.js";import{T as s,e as t,ae as a,o as n,z as r,f as o}from"./three-DHmVq3iW.js";import{d as i,z as l,A as c,g as m,j as d,F as h,o as u}from"./@vue-BDXyav1n.js";const g=i({__name:"EnvView",setup(i){const g=new class extends e{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){const e=(new s).load("/texture/sky.jpg");e.wrapS=t,e.wrapT=t,e.mapping=a,this.scene.background=e,this.scene.environment=e;const i=new n,l=new r;l.setDecoderPath("./draco/"),i.setDRACOLoader(l),i.load("./models/gltf/ferrari.glb",(e=>{var s;const t=e.scene;t.position.set(0,0,0),t.scale.set(50,50,50),t.rotateY(Math.PI/2),null==(s=this.scene)||s.add(t);const a=e.scene.children[0],n=new o({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03});a.getObjectByName("body").material=n;const r=new o({color:16777215,metalness:.25,roughness:0,transmission:1});a.getObjectByName("glass").material=r}))}animate(){var e,s;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(s=this.stats)||s.end()}};return l((()=>{g.load()})),c((()=>{g.gui.close(),g.gui.destroy()})),(e,s)=>(u(),m(h,null,[s[0]||(s[0]=d("div",{id:"webgl"},null,-1)),s[1]||(s[1]=d("div",{class:"title-name"},"环境光",-1))],64))}});export{g as default};
