var s=Object.defineProperty,t=(t,a,e)=>((t,a,e)=>a in t?s(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e)(t,"symbol"!=typeof a?a+"":a,e);import{W as a}from"./webgpuBasic-D-mbSDH1.js";import{bp as e,aJ as i,a as r,C as n,T as o,aV as u,bc as d,bg as l,bi as h,bS as m,bT as b,bu as g,bl as c,bm as p,bk as y,bj as w,bw as x,bB as v,bv as j,bh as f,bH as z,bF as C,bU as P,bK as V,be as A,P as L,b as T}from"./three-CQ-nF5qD.js";import{d as _,z as H,A as M,g as O,j as S,F as W,o as B}from"./@vue-DISYwsDo.js";import{_ as F}from"./index-261N8x7R.js";import"./pinia-DkR6u-JQ.js";import"./vue-router-kKGLm7zb.js";const I=F(_({__name:"Index",setup(s){const _=new class extends a{constructor(){super(new r(0,0,50)),t(this,"uTime",e(0)),t(this,"uProgress",e(0)),t(this,"orthographicCamera",new i(-1,1,1,-1,-1e3,1e3))}load(){var s;this.orthographicCamera.left=-.5,this.orthographicCamera.right=.5,this.orthographicCamera.top=.5,this.orthographicCamera.bottom=-.5,this.renderer.setClearColor(new n(16777215)),this.init("#webgl"),this.addObject(),null==(s=this.renderer)||s.setAnimationLoop((()=>{var s,t;null==(s=this.stats)||s.begin(),this.time+=.01,this.uTime.value=this.time,this.renderer.renderAsync(this.scene,this.orthographicCamera),null==(t=this.stats)||t.end()}));this.gui.open(),this.gui.add({progress:0},"progress",0,1).onChange((s=>{this.uProgress.value=s}))}addObject(){var s;const t=(new o).load("./texture/meinv.jpg");t.colorSpace=u;const a=(new o).load("./texture/vc2.jpg");a.colorSpace=u;const i=new d,r=l((([s])=>{const t=h(1,1.73205080756),a=s.toVar().abs();return m(b(a,t.mul(.5)),a.x)})),n=l((([s])=>{const t=h(1,1.73205080756),a=_(g(s,s.toVar().sub(h(.5,1))).div(t.xyxy)),e=g(s.sub(a.xy.mul(t)),s.sub(a.zw.add(h(.5)).mul(t))),i=b(e.xy,e.xy),r=b(e.zw,e.zw),n=g(e.xy,e.xy),o=g(e.zw,e.zw),u=i.sub(r);return c(n,o,p(0,u))})),_=l((([s])=>y(s.add(.5))));e(h(1,this.innerHeight/this.innerWidth));const H=l((([s,t])=>s.toVar().sub(h(.5)).mul(t).add(h(.5))));i.colorNode=l((()=>{const s=H(w(),h(1,this.innerHeight/this.innerWidth)),e=H(s,h(x(1).add(v(w().sub(.5).mul(1))))).mul(20),i=n(e),o=r(i.xy).add(.03),u=j(.5,.53,o),d=f(m(0,x(.5).sub(o)).oneMinus(),1).mul(1.5),l=z(C(i.zw.mul(.6))),b=x(.2),y=j(0,.5,C(this.uProgress.sub(.5))).oneMinus(),L=j(w().y.sub(b),w().y.add(b),P(this.uProgress.add(l.mul(.08).mul(y)),0,1,b.mul(-1),x(1).add(b))),T=j(0,.5,C(L.sub(.5))).oneMinus(),_=p(w().y,this.uProgress.add(d.add(l).mul(.05).mul(y))),M=s.add(d.mul(V(w().y.mul(15).sub(this.uTime))).mul(T).mul(.025)),O=M.toVar(),S=M.toVar();O.assign(H(O.toVar(),h(x(1).add(l.mul(.2).mul(T).add(.5))))),S.assign(H(S.toVar(),h(x(1).add(l.mul(.2).mul(T).add(.5)))));const W=T.mul(u).mul(y),B=A(t,M),F=A(a,M),I=c(B,F,_);return I.addAssign(g(1,.4,0,1).mul(W)),I}))();const M=new L(1,1,1,1),O=new T(M,i);null==(s=this.scene)||s.add(O)}addLight(){this.light({type:"AmbientLight",x:30,y:30,z:30,intensity:1e3}),this.light({type:"PointLight",x:-30,y:30,z:0,intensity:1e3}),this.light({type:"AmbientLight",x:0,y:-30,z:-30,intensity:1e3})}};return H((()=>{_.load()})),M((()=>{_.destroy()})),(s,t)=>(B(),O(W,null,[t[0]||(t[0]=S("div",{id:"webgl"},null,-1)),t[1]||(t[1]=S("div",{class:"title-name"},"transition",-1))],64))}}),[["__scopeId","data-v-ff52d9aa"]]);export{I as default};
