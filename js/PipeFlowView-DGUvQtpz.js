var e=Object.defineProperty,t=(t,s,a)=>((t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a)(t,"symbol"!=typeof s?s+"":s,a);import{B as s}from"./base-Vw92jU6n.js";import{V as a,s as r,k as i,t as n,q as l,Z as h,ap as o,D as u,b as c}from"./three-CO0a1xEL.js";import{d as p,z as d,A as m,g as w,j as x,F as g,o as b}from"./@vue-B4sUqkWa.js";const f=p({__name:"PipeFlowView",setup(e){const p=new class extends s{constructor(){super(),t(this,"texture")}load(){this.init("#webgl"),this.animate(),this.createMesh(),this.light(),this.gridHelper()}createPath(e){const t=e.map((e=>new a(e[0],e[1],e[2]))),s=new r;for(let a=0;a<t.length-1;a++)s.curves.push(new i(t[a],t[a+1]));return s}createMesh(){var e;const t=this.createPath([[100,0,50],[100,50,50],[100,50,-50],[100,-50,-50],[0,-50,50],[0,50,-50],[-100,50,50],[-100,-50,-50]]),s=new n(t,100,5,20,!1);this.texture=(new l).load("https://threejs.org/examples/textures/sprites/disc.png"),this.texture.wrapS=h,this.texture.wrapT=h,this.texture.repeat.set(100,1);const a=new o({map:this.texture,transparent:!0,color:4708602,side:u}),r=new c(s,a);null==(e=this.scene)||e.add(r)}animate(){var e,t;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),this.texture&&(this.texture.offset.x+=.05),this.renderer.render(this.scene,this.camera),null==(t=this.stats)||t.end()}};return d((()=>{p.load()})),m((()=>{p.gui.close(),p.gui.destroy()})),(e,t)=>(b(),w(g,null,[t[0]||(t[0]=x("div",{id:"webgl"},null,-1)),t[1]||(t[1]=x("div",{class:"title-name"},"管道流动",-1))],64))}});export{f as default};
