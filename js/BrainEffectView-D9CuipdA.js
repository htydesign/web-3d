var e=Object.defineProperty,s=(s,n,r)=>((s,n,r)=>n in s?e(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r)(s,"symbol"!=typeof n?n+"":n,r);import{B as n}from"./base-EaBVrMG2.js";import{q as r,h as t,S as a,r as i,s as o,M as l,e as v}from"./three-BSKMsEwc.js";import{d as c,A as u,B as m,g as f,j as h,F as d,o as g}from"./@vue-Di8-S161.js";const p=c({__name:"BrainEffectView",setup(e){const c=new class extends n{constructor(){super(),s(this,"uniforms",{uTime:{value:0}})}load(){var e,s,n,v;this.init("#webgl"),null==(e=this.scene)||e.remove(this.axesHelper),null==(s=this.renderer)||s.setClearColor(16777215),null==(n=this.camera)||n.position.set(0,0,10),null==(v=this.controls)||v.update();(new r).load("./models/gltf/LeePerrySmith/LeePerrySmith.glb",(e=>{var s;const n=e.scene.children[0],{array:r,count:v}=n.geometry.attributes.position,c=[];for(let a=0;a<v;a+=1){const e=r[3*a+0],s=r[3*a+1],n=r[3*a+2];c.push(new t(e,s,n))}const u=new a({uniforms:this.uniforms,wireframe:!1,vertexShader:"\n          uniform float uTime;\n          varying vec2 vUv;\n          varying float vProgress;\n          void main() {\n            vUv = uv;\n            vProgress = fract(smoothstep(0.0, 1.0, abs(sin(uTime * 0.15 + uv.x * 5.0))) * 10.0);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n        ",fragmentShader:"\n          varying vec2 vUv;\n          varying float vProgress;\n          uniform float uTime;\n          void main() {\n            vec3 color1 = vec3(0.0, 0.0, 0.0);\n            vec3 color2 = vec3(0.0, 1.0, 0.0);\n            vec3 finalColor = mix(color1, color2, vProgress);\n            vec3 color3 = vec3(step(vUv.x, vProgress));\n            gl_FragColor = vec4(finalColor, 1.0);          \n          }\n        "}),m=new i(c),f=new o(m,c.length,.05,8,!0),h=new l(f,u);null==(s=this.scene)||s.add(h),this.animate()}))}animate(){var e,s;null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),v.update(),this.renderer.render(this.scene,this.camera),this.uniforms.uTime.value+=.01,null==(s=this.stats)||s.end()}};return u((()=>{c.load()})),m((()=>{c.gui.close(),c.gui.destroy()})),(e,s)=>(g(),f(d,null,[s[0]||(s[0]=h("div",{id:"webgl"},null,-1)),s[1]||(s[1]=h("div",{class:"title-name"},"face effect",-1))],64))}});export{p as default};
