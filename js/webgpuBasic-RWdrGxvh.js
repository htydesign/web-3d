var e=Object.defineProperty,i=(i,t,s)=>((i,t,s)=>t in i?e(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s)(i,"symbol"!=typeof t?t+"":t,s);import{k as t,a7 as s,g as n,ao as a,ap as r,aq as h,i as o,a6 as d,ar as c,Q as l,v as w,bp as p,a4 as m,U as g,as as u,at as y,a as v,au as H,av as b,P as z,M as W,D as x,b as f,aw as L,ag as P,bq as S,br as E,C as R}from"./three-BHpSmIVb.js";class k{init(e,i,c){const l={type:"PointLight",x:0,y:0,z:0,color:16777215,intensity:1e4,distance:0,decay:2,shadowWidth:1024,shadowHeight:1024,shadowNear:.5,shadowFar:1e3,lightHelper:!1,...c};let w;switch(l.type){case"PointLight":w=new t(l.color,l.intensity,l.distance,l.decay),l.lightHelper&&e.add(new s(w,10));case"AmbientLight":w=new d(l.color,l.intensity);case"SpotLight":w=new o(l.color,l.intensity);case"RectAreaLight":w=new h(l.color,l.intensity);case"HemisphereLight":w=new r(l.color,l.color,l.intensity);case"DirectionalLight":w=new n(l.color,l.intensity),l.lightHelper&&e.add(new a(w,5));default:if(w=new t(l.color,l.intensity,l.distance,l.decay),l.lightHelper){const i=new s(w,10);e.add(i)}}w.position.set(l.x,l.y,l.z),w.castShadow=!0,e.add(w),w.shadow.mapSize.width=l.shadowWidth,w.shadow.mapSize.height=l.shadowHeight,w.shadow.camera.near=l.shadowNear,w.shadow.camera.far=l.shadowFar;const p=i.addFolder(l.type);return p.close(),p.add(w,"intensity",0,1e4,1),p.add(w.position,"x",-1e3,1e3,1),p.add(w.position,"y",-1e3,1e3,1),p.add(w.position,"z",-1e3,1e3,1),w}}class M{constructor(e=new v(0,75,100)){i(this,"scene"),i(this,"camera"),i(this,"innerWidth"),i(this,"innerHeight"),i(this,"renderer"),i(this,"controls"),i(this,"clock"),i(this,"stats"),i(this,"gui"),i(this,"axesHelper",new c(150)),i(this,"time",0),i(this,"onResize",(()=>{this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.camera.aspect=this.innerWidth/this.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.innerWidth,this.innerHeight)})),i(this,"timer",0),this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.scene=new l,this.camera=new w(75,this.innerWidth/this.innerHeight,.1,2e3),this.camera.position.copy(e),this.renderer=new p({antialias:!0}),this.renderer.setSize(this.innerWidth,this.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=m,this.controls=new g(this.camera,this.renderer.domElement),this.clock=new u,this.gui=new y,this.gui.close()}gridHelper(e=1e3,i=10){var t;const s=new H(e,i);null==(t=this.scene)||t.add(s)}light(e={}){return(new k).init(this.scene,this.gui,e)}init(e){const i=document.querySelector(e);null==i||i.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onResize),this.stats=new b,null==i||i.appendChild(this.stats.dom)}plane(){var e;const i=new z(100,100),t=new W({color:65280,side:x}),s=new f(i,t);s.rotation.x=Math.PI/2,null==(e=this.scene)||e.add(s)}sceneEnvironment(){(new L).setPath("./texture/").load("venice_sunset_1k.hdr",(e=>{e.mapping=P,this.scene.environment=e}))}sceneEnvironment2(){const e=new S,i=new E(this.renderer);this.scene.background=new R(6710886),i.fromSceneAsync(e).then((e=>{this.scene.environment=e.texture}))}destroy(){var e,i,t,s;this.gui.close(),this.gui.destroy(),null==(e=this.renderer)||e.dispose(),null==(i=this.scene)||i.children.forEach((e=>{var i;null==(i=this.scene)||i.remove(e)})),null==(t=this.controls)||t.dispose(),null==(s=this.camera)||s.remove(),this.timer&&cancelAnimationFrame(this.timer),window.removeEventListener("resize",this.onResize)}}export{M as W};
