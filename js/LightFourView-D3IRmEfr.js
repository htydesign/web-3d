import{B as a}from"./base-Blzby6IQ.js";import{d as e,z as t,A as s,g as n,j as o,F as i,o as r}from"./@vue-DISYwsDo.js";import{g as d,I as h,P as l,h as c,D as m,O as p,i as w,j as v,S as g,A as u,b as f}from"./three-CQ-nF5qD.js";const M=e({__name:"LightFourView",setup(e){const M=new class extends a{constructor(){super()}load(){this.init("#webgl"),this.animate(),this.create()}create(){var a;const e=new d(16777215,1);e.position.set(0,1,1),e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=.5,e.shadow.camera.far=500,this.scene.add(e);const t=e.clone();t.position.set(0,-1,1),this.scene.add(t);const s=new h(new l(1,1),new c({color:16777215,side:m}),1e4);s.instanceMatrix.needsUpdate=!0;const n=new p;for(let d=0;d<1e4;d++){n.position.set(500*Math.random()-250,50*Math.random()-25,500*Math.random()-250),n.updateMatrix();const a=.5*Math.random()+.5;n.scale.set(a,a,a),s.setMatrixAt(d,n.matrix)}this.scene.add(s),s.onBeforeRender=()=>{};const o=new w(16711680,10,200,Math.PI/20,0,0);o.position.set(0,0,1),this.scene.add(o);const i=new v(20,0,100,32),r=new g({transparent:!0,blending:u,vertexShader:"\n        varying float vYCoord;\n        void main() { \n          vYCoord = position.y;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); \n        }\n      ",fragmentShader:"\n      varying float vYCoord;\n      void main() {\n        float alpha = smoothstep(100.0, 0.0, vYCoord);\n        gl_FragColor = vec4(1.0, 0.0, 0.0, alpha);\n      }\n      "}),M=new f(i,r);i.translate(0,50,0),M.rotateX(-Math.PI/2),null==(a=this.scene)||a.add(M)}animate(){var a,e;null==(a=this.stats)||a.begin(),requestAnimationFrame((()=>{this.animate()})),this.renderer.render(this.scene,this.camera),null==(e=this.stats)||e.end()}};return t((()=>{M.load()})),s((()=>{M.destroy()})),(a,e)=>(r(),n(i,null,[e[0]||(e[0]=o("div",{id:"webgl"},null,-1)),e[1]||(e[1]=o("div",{class:"title-name"},"灯光",-1))],64))}});export{M as default};
