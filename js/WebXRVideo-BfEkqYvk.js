import{B as e}from"./base-DSRj1ooT.js";import{aS as t,aT as s,a0 as a,M as n,b as r,aU as o}from"./three-C0SeukxF.js";import{d as l,z as i,A as c,g as d,j as u,F as m,o as h}from"./@vue-B4sUqkWa.js";const p=""+new URL("../webm/MaryOculus-efxuRN72.webm",import.meta.url).href,y=""+new URL("../mp4/MaryOculus-g9gWQbJw.mp4",import.meta.url).href,b=l({__name:"WebXRVideo",setup(l){const b=new class extends e{constructor(){super()}load(){var e,l,i,c;this.init("#webgl"),null==(e=this.camera)||e.layers.enable(1);const d=document.getElementById("video");d.play();document.getElementById("webgl").addEventListener("click",(function(){d.play()}));const u=new t(d);u.colorSpace=s;const m=new a(500,60,40);m.scale(-1,1,1);const h=m.attributes.uv.array;for(let t=0;t<h.length;t+=2)h[t]*=.5;const p=new n({map:u}),y=new r(m,p);y.rotation.y=-Math.PI/2,y.layers.set(1),null==(l=this.scene)||l.add(y);const b=new a(500,60,40);b.scale(-1,1,1);const w=b.attributes.uv.array;for(let t=0;t<w.length;t+=2)w[t]*=.5,w[t]+=.5;const g=new n({map:u}),f=new r(b,g);f.rotation.y=-Math.PI/2,f.layers.set(2),null==(i=this.scene)||i.add(f),null==(c=this.renderer)||c.setAnimationLoop(this.animate.bind(this)),this.renderer.xr.enabled=!0,this.renderer.xr.setReferenceSpaceType("local"),document.body.appendChild(o.createButton(this.renderer))}animate(){var e,t;null==(e=this.stats)||e.begin(),this.renderer.render(this.scene,this.camera),null==(t=this.stats)||t.end()}};return i((()=>{b.load()})),c((()=>{b.gui.close(),b.gui.destroy()})),(e,t)=>(h(),d(m,null,[t[0]||(t[0]=u("div",{id:"webgl"},null,-1)),t[1]||(t[1]=u("div",{class:"title-name"},"XR-VIDEO",-1)),t[2]||(t[2]=u("video",{id:"video",loop:"",muted:"",crossOrigin:"anonymous",playsinline:"",style:{display:"none"}},[u("source",{src:p}),u("source",{src:y})],-1))],64))}});export{b as default};
